/*
* Written by Kieran Goodary, 2011
* Website: http://nologinbutton.com
* Feel free to modify and distribute this.
*/
(function(a){a.fn.nologinbutton=function(b){keypress_count=0;millisecond_count=0;wait_time=0;startTimer=null;loginTimer=null;var c=a.extend({username_id:"username",password_id:"password",POST_to:window.location.href,logged_in_url:window.location.href,activity:"activity",fade_out_login:0},b);var d=function(){millisecond_count++};var e=function(){a("#"+c.activity).fadeIn("fast");a.ajax({type:"POST",url:c.POST_to,data:"u="+a("#"+c.username_id).val()+"&p="+a("#"+c.password_id).val()}).done(function(b){if(b){if(c.fade_out_login==0){window.location=c.logged_in_url}else{a("#container").fadeOut(function(){window.location=c.logged_in_url})}}else{a("#"+c.activity).fadeOut()}})};a(this).keypress(function(){keypress_count++;if(millisecond_count==0){startTimer=setInterval(d,1)}if(keypress_count>1){clearInterval(startTimer);wait_time=millisecond_count*5;clearTimeout(loginTimer);loginTimer=setTimeout(e,wait_time)}})}})(jQuery)